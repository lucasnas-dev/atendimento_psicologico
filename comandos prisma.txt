ğŸ—ƒï¸ PRISMA - GUIA COMPLETO DE COMANDOS

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ COMANDOS BÃSICOS

InicializaÃ§Ã£o:
â€¢ npx prisma init
â€¢ npx prisma init --datasource-provider postgresql
â€¢ npx prisma init --datasource-provider mysql
â€¢ npx prisma init --datasource-provider sqlite

Cliente Prisma:
â€¢ npx prisma generate
â€¢ npx prisma generate --watch

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ—„ï¸ COMANDOS DE BANCO DE DADOS

Push Schema (Desenvolvimento):
â€¢ npx prisma db push
â€¢ npx prisma db push --force-reset
â€¢ npx prisma db push --accept-data-loss

Pull Schema:
â€¢ npx prisma db pull
â€¢ npx prisma db pull --force

Reset Database:
â€¢ npx prisma db reset
â€¢ npx prisma db reset --force
â€¢ npx prisma db reset --skip-seed

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”„ MIGRATIONS

Desenvolvimento:
â€¢ npx prisma migrate dev
â€¢ npx prisma migrate dev --name add_user_table
â€¢ npx prisma migrate dev --name update_user_email
â€¢ npx prisma migrate dev --create-only

ProduÃ§Ã£o:
â€¢ npx prisma migrate deploy
â€¢ npx prisma migrate status
â€¢ npx prisma migrate resolve --applied 20231201000000_init
â€¢ npx prisma migrate resolve --rolled-back 20231201000000_init

Reset Migrations:
â€¢ npx prisma migrate reset
â€¢ npx prisma migrate reset --skip-seed

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸŒ± SEED (POPULAR DADOS)

Executar Seed:
â€¢ npx prisma db seed
â€¢ npx tsx prisma/seed.ts
â€¢ node prisma/seed.js

ConfiguraÃ§Ã£o no package.json:
{
  "prisma": {
    "seed": "tsx prisma/seed.ts"
  }
}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¨ PRISMA STUDIO

â€¢ npx prisma studio                           # localhost:5555
â€¢ npx prisma studio --port 3000              # porta especÃ­fica
â€¢ npx prisma studio --schema ./custom/schema.prisma

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” VALIDAÃ‡ÃƒO E FORMATAÃ‡ÃƒO

â€¢ npx prisma validate                         # validar schema
â€¢ npx prisma format                          # formatar schema
â€¢ npx prisma validate --schema ./custom/schema.prisma

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š COMANDOS DE DEBUG

â€¢ npx prisma --version                       # ver versÃ£o
â€¢ npx prisma db execute --stdin < query.sql # executar SQL
â€¢ npx prisma debug                          # debug geral

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”§ COMANDOS AVANÃ‡ADOS

Arquivos EspecÃ­ficos:
â€¢ npx prisma generate --schema ./custom/schema.prisma
â€¢ npx prisma db push --schema ./custom/schema.prisma
â€¢ npx prisma db push --env-file .env.local

MÃºltiplos Schemas:
â€¢ npx prisma generate --schema ./prisma/user.prisma
â€¢ npx prisma generate --schema ./prisma/admin.prisma

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ FLUXO DE TRABALHO TÃPICO

Desenvolvimento Local:
1. Editar schema.prisma
2. npx prisma db push
3. npx prisma generate
4. npx prisma studio
5. npx prisma db seed (se necessÃ¡rio)

Deploy em ProduÃ§Ã£o:
1. npx prisma migrate dev --name production_ready
2. npx prisma migrate deploy
3. npx prisma generate

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ COMANDOS PARA SISTEMA DE ATENDIMENTO

Setup Inicial:
â€¢ npx prisma init --datasource-provider postgresql
â€¢ npx prisma db push
â€¢ npx prisma generate
â€¢ npx prisma studio

MudanÃ§as no Schema:
1. Editar schema.prisma (usuÃ¡rios, consultas, etc.)
2. npx prisma db push
3. npx prisma migrate dev --name add_consultas_pacientes
4. npx prisma generate

Monitoramento:
â€¢ npx prisma migrate status
â€¢ npx prisma studio
â€¢ npx prisma validate

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”¥ COMANDOS DE EMERGÃŠNCIA

CUIDADO! Podem causar perda de dados:
â€¢ npx prisma migrate reset --force
â€¢ npx prisma db push --force-reset --accept-data-loss
â€¢ npx prisma migrate resolve --applied MIGRATION_NAME

Backup antes de mudanÃ§as crÃ­ticas:
â€¢ pg_dump database_name > backup.sql      # PostgreSQL
â€¢ mysqldump database_name > backup.sql    # MySQL

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ COMANDOS POR AMBIENTE

Desenvolvimento:
â€¢ npx prisma db push
â€¢ npx prisma generate
â€¢ npx prisma studio
â€¢ npx prisma db seed

Staging/Teste:
â€¢ npx prisma migrate deploy
â€¢ npx prisma generate

ProduÃ§Ã£o:
â€¢ npx prisma migrate deploy
â€¢ npx prisma generate
â€¢ NUNCA usar db push em produÃ§Ã£o!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… Criado em: Junho 2025
ğŸ”§ VersÃ£o Prisma: 5.x
ğŸ’¾ Arquivo: comandos-prisma.txt